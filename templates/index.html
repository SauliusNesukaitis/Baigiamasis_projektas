{% extends "layout.html" %}
{% from 'bootstrap5/form.html' import render_form %}

{% block title %}App home{% endblock %}

{% block navbar %}
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <div class="navbar-nav mr-auto">

            {% if current_user.is_anonymous %}
            {{ render_nav_item('index', 'Home') }}
            {{ render_nav_item('login', 'Login') }}
            {% endif %}

            {% if current_user.is_authenticated %}
            <div class="badge bg-secondary d-flex align-items-center fs-5">Hello, {{ current_user.username }}</div>
            {{ render_nav_item('logout', 'Log out') }}
            {% endif %}

        </div>
    </div>
</nav>
{% endblock %}

{% block content %}
{{ super() }}
<div class="container">

    {% if current_user.is_anonymous %}
    <h1>Welcome!</h1>
    <p>Please log in to continue.</p>
    {% endif %}

    {% if current_user.is_authenticated %}
    <h1>Add new note</h1>
    {{ render_form(note) }}
    {% endif %}

</div>
{% endblock %}